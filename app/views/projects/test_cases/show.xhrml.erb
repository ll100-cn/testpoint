<div class="modal-header">
  <h5 class="modal-title">
    <%= @test_case.title %>
    <% @test_case.labels.each do |label| %>
      <span class="badge bg-secondary"><%= label.name %></span>
    <% end %>
  </h5>
  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>

<div class="modal-body pb-0">
  <%= text_area_tag(:content, @test_case.content, data: { controller: "markdown" }, readonly: true, class: "d-none") %>

  <% @test_case.platforms.each do |platform| %>
    <span class="badge" style="background-color: <%= calc_color_hex(platform.name) %>; color: white;"><%= platform.name %></span>
  <% end %>

  <div class="d-flex">
    <a class="btn btn-link mx-auto" data-bs-toggle="collapse" href="#history" role="button">
      <i class="far fa-history me-1"></i>显示历史版本
    </a>
  </div>
  <div class="collapse multi-collapse" id="history">
    <%= render 'history_list' %>
  </div>

</div>

<div class="modal-footer">
  <%= edit_button [@project, @test_case], data: { remote: true, type: :xhrml, target: ".modal-content" }, class: "btn-sm" %>
  <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal"><%= action_i18n :close %></button>
</div>
