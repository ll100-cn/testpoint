json = render(partial: "api/shared/task_upshot", locals: { task_upshot: task_upshot })

task = task_upshot.task
json[:task] = render(partial: "api/shared/task", locals: { task: task })

json[:task_stats_by_phase] = render partial: "api/shared/task_upshot", collection: task_stats_by_phase_mapping[task.id], as: :task_upshot

test_case = test_case_mapping[task.test_case_id]
json[:test_case] = render(partial: "api/shared/test_case", locals: { test_case: test_case })
json
